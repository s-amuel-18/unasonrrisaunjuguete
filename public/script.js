!function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var p="function"==typeof require&&require;if(!f&&p)return p(i,!0);if(u)return u(i,!0);throw(p=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",p}p=n[i]={exports:{}},e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){"use strict";var _createClass=function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor};function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var c=console.log,formPadrino=document.querySelector("#formPadrino"),formLogIn=document.querySelector("#logIn"),progressBarFunc=function(modalProgress,progressbar,counter){counter<100?(modalProgress.classList.add("show"),modalProgress.style.display="block",progressbar.style.width=counter+"%",progressbar.textContent=counter+"%"):(modalProgress.classList.remove("show"),modalProgress.style.display="none")},notificattion=function(selector,message,alert){selector.innerHTML='\n  <div id="notification-alert" class="failedLogin alert alert-'+alert+' my-3" role="alert">\n    '+message+"\n  </div>\n  ",setTimeout(function(){var alertNotification=document.querySelector("#notification-alert");null!==alertNotification&&alertNotification.remove()},5e3)},verifyUser=function(){firebase.auth().onAuthStateChanged(function(inputAddAvatar){var niniosRef;null!==inputAddAvatar?(document.body.innerHTML='\n        <div class="menuNavegation bg-white fixed-top shadow-sm">\n          <nav class="navbar navbar-expand-lg navbar-light bg-white font-f-title">\n            <div class="container">\n              <a class="navbar-brand" href="#inicio">\n                <img class="menuNavegation-logo preloaderImage-img" data-img="./img/Logo NAV.png" alt=""/>\n              </a>\n              <div class="ml-auto d-flex">\n                <img class="sesion-avatar  mr-3 preloaderImage-img" data-img="'+(inputAddAvatar.photoURL||"./img/ICONO DE USUARIO SIN FOTO.png")+'">\n                <a href="#" class="d-flex justify-content-center align-items-center signOut nav-link p-0"> salir</a>\n              </div>\n            </div>\n          </nav>\n        </div>\n        <header>\n          <div class="headerSesion py-5 container ">\n            <img class="gris-claro headerSesion-avatarHeader m-auto d-block preloaderImage-img" data-img="'+(inputAddAvatar.photoURL||"./img/ICONO DE USUARIO SIN FOTO.png")+'">\n            '+(inputAddAvatar.photoURL?"":'<div class="pt-3 contentButtonAddAvatar" ><label for="addAvatarUser" class="w-fit d-block btn-azul btn br-25 px-3 py-1  m-auto" >subir foto <img class="h-15px ml-2 " src="./img/ICONO SUBIR FOTO.svg" alt=""></label>\n            <input type="file" name="addAvatar" id="addAvatarUser" class="d-none"></div>')+'  \n            <h4 class="mt-3 text-center text-azul">'+(null!==inputAddAvatar.displayName?inputAddAvatar.displayName:"Bienvenido")+'</h4>\n            <h1 class="pb-3 text-center text-azul">¿Que deseas ser este año 2020?</h1>\n            <div class="headerSesion-contentButtons m-auto  py-1">\n              <div class="row">\n                <div class="p-2  col-sm-12 col-md-6 "><button class="centrado-ab btn-sesionIniciada m-auto btn btn-block btn-azul br-25  a-title " data-toggle="modal" data-target="#staticBackdrop"> <img class="h-40px mr-3 preloaderImage-img" data-img="./img/Cara de niño.png"> niño</button></div>\n                <div class="p-2  col-sm-12 col-md-6 "><button id="buttonPadrino" class="btn-sesionIniciada centrado-ab m-auto btn btn-block  btn-buttonForm br-25  a-title " data-toggle="modal" data-target="#modalPadrino"><img class="h-40px mr-3 preloaderImage-img" data-img="./img/Cara de santa.png">padrino</button></div> \n              </div>\n            </div>\n          </div>\n        </header> \n\n\n        <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1"\n        aria-labelledby="staticBackdropLabel" aria-hidden="true">\n        <div class="modal-dialog modal-dialog-centered ">\n          <div class="modal-content modal-notification azul-claro">\n            <form id="formInfoBoy">\n              <div class="modal-header">\n                <h5 class="modal-title" id="staticBackdropLabel text-azul">Sube tu foto y escribe tu carta</h5>\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n                  <span aria-hidden="true">&times;</span>\n                </button> \n              </div>\n              <div class="modal-body px-4">\n           \n                <div class="row">\n                  <div class="col-lg-4 col-md-12 p-2 ">\n                    <div class="modalNinio-contentImg  m-auto">\n                      <img src="./img/ICONO DE USUARIO SIN FOTO.png" alt="" class="modalNinio-img m-auto mb-3 d-block" id="imagenNinio">\n                      <label for="addFoto" class="mt-3 btn-azul btn btn-block br-25 p-1">subir foto <img\n                          class="h-15px ml-2 " src="./img/ICONO SUBIR FOTO.svg" alt=""></label>\n                      <input type="file" name="fotoNinio" id="addFoto" class="d-none">\n                    </div>\n                  </div>\n                  <div class="col-lg-8 col-md-12  p-2">\n                    <div class="modalNinio-contentInputs m-auto">\n                      <div class="form-group">\n                        <input name="names" class="form-control br-25" type="text" name="nombre" placeholder="nombre y apellido"\n                          required="required" />\n                      </div>\n\n                      <div class="form-group">\n                        <textarea class="form-control br-25" name="textArea" rows="5" required placeholder="Ingreza tu carta Navideña"></textarea>\n                        <span class="form-text text-muted">Por favor ingreza menos de 30 caracteres</span>\n                      </div>\n                      <input type="hidden" id="idNinio" name="idNinio">\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class="modal-footer">\n                <button type="button" class="p-2 px-4 br-25 btn btn-outline-secondary"\n                  data-dismiss="modal">Cancelar</button>\n                <input type="submit" class="p-2 px-4  btn-azul br-25 btn btn-primary" value="Ingrezar">\n              </div>\n              <div id="notificationCarta"></div>\n            </form>\n          </div>\n        </div>\n      </div>\n\n\n    <div class="modal fade" id="modalPadrino" tabindex="-1" aria-labelledby="exampleModalLabel2" aria-hidden="true">\n      <div class="modal-dialog modal-xl max-h100vh">\n        <div class="modal-content bg-verde-muyClaro">\n          <div class="modal-header">\n            <h5 class="modal-title text-verde"  id="exampleModalLabel">Niños a apadrinar</h5>\n            <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n              <span aria-hidden="true">&times;</span>\n            </button>\n          </div>\n          <div class="modal-body overflow-auto max-h65vh" >\n            <div class="row" id="modalContent">\n\n            </div>\n          </div>\n          <div class="modal-footer">\n            <button type="button" class="p-2 px-4 br-25 btn btn-outline-secondary" data-dismiss="modal">Cancelar</button>\n            <a class="btn btn-buttonForm br-25 p-2 px-4" href="#"><img\n              data-img="./img/whatsapp.svg" class="preloaderImage-img mr-1"> contactanos por whatsapp</a>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="modal fade" id="modalprogressBar" style="display:none; background-color: rgba(0,0,0,.2);">\n      <div class="modal-dialog modal-md">\n        <div class="modal-content p-3">\n\n        <div class="progress">\n          <div class="progress-bar" role="progressbar" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100" id="progressbar"></div>\n        </div>\n      </div>\n    </div>\n      ',document.body.classList.remove("loading"),document.addEventListener("click",function(e){e.target.matches(".signOut")&&(location.reload(),firebase.auth().signOut().then(function(){return e.target.remove()}))}),niniosRef=firebase.database().ref().child("niños-users"),document.querySelector("#formInfoBoy").addEventListener("submit",function(e){e.preventDefault();var names=e.target.names,idHidden=e.target.idNinio,carta=e.target.textArea,notificationCarta=e.target.fotoNinio,imgRef=firebase.storage().ref().child("img-niños"),modalProgress=document.querySelector("#modalprogressBar"),progressbar=document.querySelector("#progressbar"),namesNinio=names.value,cartasNinio=carta.value;""!==names.value&&""!==carta.value&&""!==notificationCarta.value||(notificationCarta=document.querySelector("#notificationCarta"),notificattion(notificationCarta,"por favor ingreza todos los campos de formulario, la foto es requerida para el ingrezo de tu carta navideña","danger"));var id=idHidden.value||niniosRef.push().key,formdata=new FormData(e.target);imgRef.child(formdata.get("fotoNinio").name).put(formdata.get("fotoNinio")).on("stated_changed",function(_notificationCarta){_notificationCarta=Math.floor(_notificationCarta.bytesTransferred/_notificationCarta.totalBytes*100);progressBarFunc(modalProgress,progressbar,_notificationCarta),100===_notificationCarta&&(_notificationCarta=document.querySelector("#notificationCarta"),notificattion(_notificationCarta,"se ah registrado correctamente ","success"),document.querySelector("#imagenNinio").src="./img/ICONO DE USUARIO SIN FOTO.png",e.target.reset())},function(err){},function(){imgRef.child(formdata.get("fotoNinio").name).getDownloadURL().then(function(updateData){var datanaNinios={names:namesNinio,carta:cartasNinio,padrinoPhoto:!1,padrinoName:!1,id:id,photoURL:updateData},updateData={};updateData["/"+id]=datanaNinios,niniosRef.update(updateData)})})}),niniosRef.on("child_added",function(padrinoName){var _ref,carta,id,names,padrinoPhoto;document.querySelector("#modalContent").innerHTML+=(_ref=padrinoName.val(),carta=_ref.carta,id=_ref.id,names=_ref.names,padrinoPhoto=_ref.padrinoPhoto,'\n    <div class="'+((padrinoName=_ref.padrinoName)?"order-1":"")+' col-xl-3 col-lg-6 col-sm-12 p-2 pt-5 mb-3">\n      <div id="'+id+'" class="h-100 carrouselBoys-card bg-white card mx-auto position-relative">\n        <div class="carrouselBoys-contentImgBoy mx-auto "><img\n            class="gris-claro carrouselBoys-imgBoy w-100 h-100 preloaderImage-img" data-img="'+_ref.photoURL+'"\n            alt="" /></div>\n        <div class="card-body text-center py-5 mt-4">\n          <h5 class="card-title text-verde">'+names+'</h5>\n          <div  class=" centrado-ab">\n            '+(padrinoName?'<img data-img="'+(padrinoPhoto||"./img/ICONO DE USUARIO SIN FOTO.png")+'"  class="preloaderImage-img h50-w50 rounded-circle  mr-2" alt="">\n                  <h6 >'+padrinoName+"</h6>":"")+"\n          </div>\n          "+(padrinoName?"":'<p class="card-text">'+carta+'</p>\n              <p  class="text-light carrouselBoys-buttonLink position-absolute p-2 m-0" href="#">'+id+"</p>")+"\n          \n        </div>\n      </div>\n    </div> \n  "),preloaderImage(".preloaderImage-img")}),document.querySelector("#addFoto").addEventListener("change",function(urlImage){urlImage=URL.createObjectURL(urlImage.target.files[0]);document.querySelector("#imagenNinio").src=urlImage}),null!==(inputAddAvatar=document.querySelector("#addAvatarUser"))&&inputAddAvatar.addEventListener("change",function(e){var imgRef=firebase.storage().ref().child("img-users"),modalProgress=document.querySelector("#modalprogressBar"),progressbar=document.querySelector("#progressbar"),user=firebase.auth().currentUser,urlAvatar=URL.createObjectURL(e.target.files[0]);imgRef.child(e.target.files[0].name).put(e.target.files[0]).on("stated_changed",function(counter){counter=Math.floor(counter.bytesTransferred/counter.totalBytes*100);progressBarFunc(modalProgress,progressbar,counter)},function(err){},function(){imgRef.child(e.target.files[0].name).getDownloadURL().then(function(contactData){user.updateProfile({photoURL:contactData});var updateData={},contactData={name:user.displayName,email:user.email,photoURL:contactData};updateData[user.uid]=contactData,usersRef.update(updateData),document.querySelector(".headerSesion-avatarHeader").src=urlAvatar,document.querySelector(".sesion-avatar").src=urlAvatar,document.querySelector(".contentButtonAddAvatar").remove()})})})):document.body.classList.remove("loading"),preloaderImage(".preloaderImage-img")})},preloaderImage=function(images){var images=document.querySelectorAll(images),observer=new IntersectionObserver(function(entries){entries.forEach(function(el){var urlImage;el.isIntersecting&&(urlImage=el.target.getAttribute("data-img"),el.target.src=urlImage)})},{root:null,rootMargin:"100px",threshold:0});images.forEach(function(el){observer.observe(el)})},createUserAndDb=function(uid,email,names,photoURL){photoURL=3<arguments.length&&void 0!==photoURL&&photoURL;firebase.database().ref().child("users").child(uid).set({email:email,names:names,photoURL:photoURL})},Autentication=function(){function Autentication(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Autentication)}return _createClass(Autentication,[{key:"autEmailPass",value:function(email,pass){firebase.auth().signInWithEmailAndPassword(email.value,pass.value).then(function(response){c(response)}).catch(function(err){var modalContent=document.querySelector("#modalNotificationLogIn");notificattion(modalContent,err.message,"danger")})}},{key:"crearCuentaEmailPass",value:function(email,pass,names){firebase.auth().createUserWithEmailAndPassword(email,pass).then(function(result){result.user.updateProfile({displayName:names}),createUserAndDb(result.user.uid,email,names)}).catch(function(err){var notificationForm=document.querySelector("#notificationForm");notificattion(notificationForm,err.message,"danger")})}},{key:"autCuentaGoogle",value:function(){var provider=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithPopup(provider).then(function(result){c(result),createUserAndDb(result.user.uid,result.user.email,result.user.displayName,result.user.photoURL)}).catch(function(err){var notificationForm=document.querySelector("#notificationForm");notificattion(notificationForm,err.message,"danger")})}}]),Autentication}();window.addEventListener("load",function(e){verifyUser(),preloaderImage(".preloaderImage-img")}),document.addEventListener("click",function(e){var auth=new Autentication;(e.target.matches("#googleAuth")||e.target.matches("font"))&&auth.autCuentaGoogle()}),formPadrino.addEventListener("submit",function(passWord){passWord.preventDefault();var name=document.getElementById("padrinoName"),email=document.getElementById("padrinoEmail"),passWord=document.getElementById("padrinoPass");(new Autentication).crearCuentaEmailPass(email.value,passWord.value,name.value)}),formLogIn.addEventListener("submit",function(e){e.preventDefault(),(new Autentication).autEmailPass(e.target.email,e.target.password)}),document.querySelector(".menuNavegation").addEventListener("click",function(e){(e.target.matches("a")||e.target.matches("button"))&&document.querySelector("#navbarSupportedContent").classList.remove("show")});var usersRef=firebase.database().ref().child("users")},{}]},{},[1]);